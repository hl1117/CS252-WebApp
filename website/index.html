<!DOCTYPE html>
<head>
<meta charset="utf-8">
  <title>NAVBAR</title>
  <link rel="stylesheet" href="style.css">
</head>

  <h1>Welcome To GPA <br>CalculatR</h1>

  	<button onclick="googleSignIn()" class="signin">Google Signin</button>



	<script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>
	<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyAb8vveT3HAG9onvSvs6Cn5qkS22KK0Po0",
    authDomain: "cs252-58cdc.firebaseapp.com",
    databaseURL: "https://cs252-58cdc.firebaseio.com",
    projectId: "cs252-58cdc",
    storageBucket: "cs252-58cdc.appspot.com",
    messagingSenderId: "895628017578"
  };
  firebase.initializeApp(config);


  googleSignIn=()=>{

  	var provider = new firebase.auth.GoogleAuthProvider();
  	firebase.auth().signInWithPopup(provider).then(function(result) {
  		var token = result.credential.accessToken;
  		var user = result.user;
  		//window.alert(token + " " + user);
  		window.location = 'home.html'
  	}).catch(function(error) {
  		var errorCode = error.code;
  		var errorMessage = error.message;
  		window.alert(errorCode + " " + errorMessage);
  	});
  	// base_provider = new firebase.auth.GoogleAuthProvider()
//   	firebase.auth().signInWithRedirect(base_provider).then(function(result){
//   		//console.log(result)
//   		//console.log("Success...Google Account Linked")
//   		window.location = 'home.html'
//   	}).catch(function(err){
//   		console.log(err)
//   		console.log("Failed to do")
//   	})
  }

  // firebase.auth().onAuthStateChanged(function(user) {
//       if (user) {
//       	//window.alert("user is logged in")
//       	window.location = 'home.html'
//
//       } else {
//       	//window.alert("No user is logged in - ERROR!")
//       	window.location = 'index.html'
//       }
//     });


</script>

  <script src="app.js"></script>

</html>
